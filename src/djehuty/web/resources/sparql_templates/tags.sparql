{% extends "prefixes.sparql" %}
{% block query %}
SELECT DISTINCT ?index ?tag
WHERE {
  GRAPH <{{state_graph}}> {
    ?item_uri        rdf:type            djht:{{prefix}} ;
                     col:tags/rdf:rest*  ?tag_node .
    ?tag_node        rdf:first           ?tag ;
                     col:index           ?index .
  }
{%- if item_uri is not none %}
  FILTER (?item_uri = <{{item_uri}}>)
{%- endif %}
{%- if filters is not none %}{{ filters }}{% endif %}
}
{% endblock %}

